These are couple of functions that can be used to detect collisions and place rectangles accordingly in 2D games. I used raylib and Golang but I presume it would be easy to adapt to other libraries and languages.

Here is a great video about Swept AABB collision detection: https://youtu.be/8JJ-4JgR7Dg?si=H9hBhQXYtQbFAyef